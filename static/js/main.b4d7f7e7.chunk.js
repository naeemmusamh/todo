(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{193:function(e,t){},195:function(e,t){},209:function(e,t){},211:function(e,t){},239:function(e,t){},241:function(e,t){},242:function(e,t){},247:function(e,t){},249:function(e,t){},255:function(e,t){},257:function(e,t){},276:function(e,t){},288:function(e,t){},291:function(e,t){},320:function(e,t){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(29),i=n.n(r),o=n(62),s=n(63),l=n(73),u=n(71),j=n(1),d=a.a.createContext(),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).toggleMode=function(){"dark"===c.state.mode?c.setState({mode:"light"}):c.setState({mode:"dark"})},c.state={mode:"dark",toggleMode:c.toggleMode},c}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsx)(d.Provider,{value:this.state,children:this.props.children})}}]),n}(a.a.Component),O=n(9),h=a.a.createContext();function f(e){var t=Object(c.useState)(3),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(1),o=Object(O.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!1),d=Object(O.a)(u,2),b=d[0],f=d[1],x=Object(c.useState)("difficultyA"),p=Object(O.a)(x,2),m={display:b,itemCount:a,sortField:p[0],startingPage:s,setDisplay:f,setItemCount:r,setSortField:p[1],setStartingPage:l};return Object(j.jsx)(h.Provider,{value:m,children:e.children})}var x=n(10),p=n.n(x),m=n(14),v=n(355),g=n(353),y=n(179),C=n(360),S=n(357),w=n(352),k=n(64),E=n(25);var T=n(177),D=n.n(T),P=n(178),I=n.n(P),B=n(104),_=n.n(B),A=n(105),L=n.n(A);D.a.config();var N=Object({NODE_ENV:"production",PUBLIC_URL:"/todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API,F=Object({NODE_ENV:"production",PUBLIC_URL:"/todo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SECRET,H=Object(c.createContext)();function R(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)({}),o=Object(O.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!1),d=Object(O.a)(u,2),b=d[0],h=d[1];Object(c.useEffect)((function(){var e=L.a.load("auth");f(e)}),[]);var f=function(e){try{var t=I.a.verify(e,F);x(!0,e,t)}catch(n){x(!1,null,{})}},x=function(e,t,n){L.a.save("auth",t),l(n),r(e),h(!1)},v={login:function(){var e=Object(m.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(N,"/signin")).set("authorization","Basic ".concat(btoa("".concat(t,":").concat(n))));case 3:c=e.sent,f(c.body.token),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Signin Error",b.message),h(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){x(!1,null,{})},signup:function(){var e=Object(m.a)(p.a.mark((function e(t,n,c,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(N,"/signup"),{username:t,email:n,password:c,role:a});case 3:r=e.sent,f(r.body.token),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Signup Error",b.message),h(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c,a){return e.apply(this,arguments)}}(),loggedIn:a,user:s,error:b,setError:h};return Object(j.jsx)(H.Provider,{value:v,children:e.children})}function G(e){var t=function(e){var t=Object(c.useState)({}),n=Object(O.a)(t,2),a=n[0],r=n[1];return[function(e){r(Object(E.a)(Object(E.a)({},a),{},Object(k.a)({},e.target.name,e.target.value)))},function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),n.target.reset(),t.next=4,e(a);case 4:r({newItem:{}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]}(e.handleSubmit),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useContext)(H);return Object(j.jsxs)(C.a,{children:[Object(j.jsx)(C.a.Header,{as:"h3",children:"Add Item"}),Object(j.jsx)(C.a.Body,{children:Object(j.jsxs)(S.a,{onSubmit:function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.user.capabilities.includes("create")){t.next=7;break}return t.next=3,r(n);case 3:return t.next=5,e.fetch();case 5:t.next=8;break;case 7:alert("sorry dont have the authorization to create \ud83d\ude1f");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:[Object(j.jsxs)(S.a.Group,{children:[Object(j.jsx)(S.a.Label,{children:"To Do Item"}),Object(j.jsx)(S.a.Control,{type:"text",name:"text",placeholder:"Add To Do List Item",onChange:a})]}),Object(j.jsxs)(S.a.Group,{controlId:"formBasicRange",children:[Object(j.jsx)(S.a.Label,{children:"Difficulty Rating"}),Object(j.jsx)(S.a.Control,{defaultValue:"1",type:"range",min:"1",max:"5",name:"difficulty",onChange:a})]}),Object(j.jsxs)(S.a.Group,{children:[Object(j.jsx)(S.a.Label,{children:"Assigned To"}),Object(j.jsx)(S.a.Control,{type:"text",name:"assignee",placeholder:"Assigned To",onChange:a})]}),Object(j.jsx)(w.a,{variant:"primary",type:"submit",children:"Add Item"})]})})]})}var z=n(361),U=n(359),W=n(354);function K(e){var t=Object(c.useContext)(h),n=Object(c.useContext)(H),a=Object(c.useState)(t.startingPage),r=Object(O.a)(a,2),i=r[0],o=r[1],s=t.itemCount,l=Object(c.useState)([]),u=Object(O.a)(l,2),d=u[0],b=u[1];Object(c.useEffect)((function(){b(e.list)}),[e.list]);for(var f=d.length/s+1,x=i*s,v=x-s,C=d.slice(v,x),w=[],k=i,E=function(e){w.push(Object(j.jsx)(z.a.Item,{className:e===k?"active":"",onClick:function(){return function(e){return o(e)}(e)},children:e},e))},T=1;T<f;T++)E(T);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(g.a,{children:[Object(j.jsx)(y.a,{children:Object(j.jsxs)(z.a,{children:[Object(j.jsx)(z.a.Prev,{disabled:1===k,onClick:function(){o(i-1)}}),w,Object(j.jsx)(z.a.Next,{disabled:k>f-1,onClick:function(){o(i+1)}})]})}),Object(j.jsx)(y.a,{children:Object(j.jsx)(S.a,{children:Object(j.jsxs)(S.a.Control,{as:"select",onChange:function(e){return t.setItemCount(e.target.value)},children:[Object(j.jsx)("option",{value:"3",children:"Items per Page"}),Object(j.jsx)("option",{value:"3",children:"3"}),Object(j.jsx)("option",{value:"5",children:"5"}),Object(j.jsx)("option",{value:"7",children:"7"}),Object(j.jsx)("option",{value:d.length,children:"All"})]})})}),Object(j.jsx)(y.a,{children:Object(j.jsx)(S.a,{children:Object(j.jsxs)(S.a.Control,{as:"select",onChange:function(t){if("all"===t.target.value)b(e.list);else{var n=d.filter((function(e){return e.complete===Boolean(t.target.value)}));b(n),o(1)}},children:[Object(j.jsx)("option",{value:"all",children:"Filter by"}),Object(j.jsx)("option",{value:1,children:"Completed"}),Object(j.jsx)("option",{value:"",children:"Pending"})]})})}),Object(j.jsx)(y.a,{children:Object(j.jsx)(S.a,{children:Object(j.jsxs)(S.a.Control,{as:"select",onChange:function(n){t.setSortField(n.target.value),"all"===n.target.value?b(e.list):"difficultyA"===n.target.value?(b(d.sort((function(e,t){return e.difficulty-t.difficulty}))),o(1)):"difficultyD"===n.target.value?(b(d.sort((function(e,t){return t.difficulty-e.difficulty}))),o(1)):"complete"===n.target.value&&(b(d.sort((function(e,t){return e.complete===t.complete?0:e.complete?1:-1}))),o(1))},children:[Object(j.jsx)("option",{value:"all",children:"Sort by"}),Object(j.jsx)("option",{value:"difficultyA",children:"Difficulty (Ascending)"}),Object(j.jsx)("option",{value:"difficultyD",children:"Difficulty (Descending)"}),Object(j.jsx)("option",{value:"complete",children:"Completion"})]})})})]}),C.map((function(t){return Object(j.jsxs)(U.a,{style:{maxWidth:"100%"},onClose:Object(m.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!n.user.capabilities.includes("delete")){c.next=7;break}return c.next=3,e.handleDelete(t);case 3:return c.next=5,e.fetch();case 5:c.next=8;break;case 7:alert("sorry you dont have the authorization to delete \ud83d\ude1f");case 8:case"end":return c.stop()}}),c)}))),children:[Object(j.jsxs)(U.a.Header,{children:[Object(j.jsx)(W.a,{pill:!0,variant:t.complete?"success":"warning",onClick:Object(m.a)(p.a.mark((function c(){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!n.user.capabilities.includes("update")){c.next=7;break}return c.next=3,e.handleComplete(t);case 3:return c.next=5,e.fetch();case 5:c.next=8;break;case 7:alert("sorry you dont have the authorization to update \ud83d\ude1f");case 8:case"end":return c.stop()}}),c)}))),style:{cursor:"pointer"},children:t.complete?"Complete":"Pending..."}),Object(j.jsx)("strong",{className:"mr-auto ml-4",children:t.assignee})]}),Object(j.jsxs)(U.a.Body,{children:[Object(j.jsx)("h3",{className:"ml-3 ".concat(t.complete?"text-muted text-decoration-line-through":""),children:t.text}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{className:"float-right",style:{fontSize:"85%"},children:["Difficulty: ",t.difficulty]}),Object(j.jsx)("br",{})]})]},t._id)}))]})}var M=n(362),q=function(e){var t=e.list;return Object(j.jsx)(C.a,{className:"bg-light",children:Object(j.jsxs)(C.a.Body,{children:[Object(j.jsx)(C.a.Title,{as:"h2",children:"To Do List Manager"}),Object(j.jsxs)(M.a,{children:[Object(j.jsx)(M.a,{animated:!0,striped:!0,variant:"success",now:t.filter((function(e){return e.complete})).length*t.length*100,label:"Completed Items: ".concat(t.filter((function(e){return e.complete})).length)},1),Object(j.jsx)(M.a,{animated:!0,variant:"danger",now:t.filter((function(e){return!e.complete})).length*t.length*100,label:"To Do: ".concat(t.filter((function(e){return!e.complete})).length)},2)]})]})})},V=n(180),Y=n.n(V);n(347);function J(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1],r=function(e){var t=function(){var e=Object(m.a)(p.a.mark((function e(t,n,c){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y()({method:t,url:n,mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},data:c});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();return[function(){var n=Object(m.a)(p.a.mark((function n(c){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("post",e,c);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),function(){var n=Object(m.a)(p.a.mark((function n(c){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(e,"/").concat(c._id),n.next=3,t("delete",a,c);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),function(){var n=Object(m.a)(p.a.mark((function n(c){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.complete=!c.complete,a="".concat(e,"/").concat(c._id),n.next=4,t("put",a,c);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),function(){var n=Object(m.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t("get",e));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()]}("https://api-js401.herokuapp.com/api/v1/todo"),i=Object(O.a)(r,4),o=i[0],s=i[1],l=i[2],u=i[3];Object(c.useEffect)((function(){return document.title="To Do List: ".concat(n.filter((function(e){return!e.complete})).length)}));var d=function(){(function(){var e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,a(t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()};return Object(c.useEffect)(d,[]),Object(j.jsxs)(v.a,{children:[Object(j.jsx)(g.a,{className:"mt-5 mb-4",children:Object(j.jsx)(y.a,{children:Object(j.jsx)(q,{list:n})})}),Object(j.jsxs)(g.a,{children:[Object(j.jsx)(y.a,{md:"4",children:Object(j.jsx)(G,{handleSubmit:o,fetch:d})}),Object(j.jsx)(y.a,{md:"8",children:Object(j.jsx)(K,{list:n,handleComplete:l,handleDelete:s,fetch:d})})]})]})}var Q=n(35),X=n(358),Z=n(356);function $(e){var t=Object(c.useContext)(H),n=Object(c.useState)(""),a=Object(O.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object(O.a)(o,2),l=s[0],u=s[1],d=function(e){"username"===e.target.name?i(e.target.value):u(e.target.value)};return Object(j.jsxs)(Z.a,Object(E.a)(Object(E.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(j.jsx)(Z.a.Header,{closeButton:!0,children:Object(j.jsx)(Z.a.Title,{id:"contained-modal-title-vcenter",children:" signin "})}),Object(j.jsx)(Z.a.Body,{children:Object(j.jsxs)(S.a,{children:[Object(j.jsxs)(S.a.Group,{controlId:"formBasicUsername",children:[Object(j.jsx)(S.a.Label,{children:" Username "}),Object(j.jsx)(S.a.Control,{onChange:d,name:"username",type:"text",placeholder:"Please Enter Your username"})]}),Object(j.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(j.jsx)(S.a.Label,{children:" Password "}),Object(j.jsx)(S.a.Control,{onChange:d,name:"password",type:"password",placeholder:"Please Enter Your Password"})]})]})}),Object(j.jsx)(Z.a.Footer,{children:Object(j.jsx)(w.a,{variant:"info",onClick:function(n){n.preventDefault(),e.onHide(),t.login(r,l)},children:" signin "})})]}))}function ee(e){var t=Object(c.useContext)(H),n=Object(c.useState)(""),a=Object(O.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object(O.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),h=b[0],f=b[1],x=Object(c.useState)("user"),p=Object(O.a)(x,2),m=p[0],v=p[1],g=function(e){"username"===e.target.name?i(e.target.value):"password"===e.target.name?u(e.target.value):"email"===e.target.name?f(e.target.value):v(e.target.value)};return Object(j.jsxs)(Z.a,Object(E.a)(Object(E.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(j.jsx)(Z.a.Header,{closeButton:!0,children:Object(j.jsx)(Z.a.Title,{id:"contained-modal-title-vcenter",children:" signup "})}),Object(j.jsx)(Z.a.Body,{children:Object(j.jsxs)(S.a,{children:[Object(j.jsxs)(S.a.Group,{controlId:"formBasicUsername",children:[Object(j.jsx)(S.a.Label,{children:" username "}),Object(j.jsx)(S.a.Control,{onChange:g,name:"username",type:"text",placeholder:"Please Enter Your username",required:!0})]}),Object(j.jsxs)(S.a.Group,{controlId:"formBasicEmail",children:[Object(j.jsx)(S.a.Label,{children:" Email "}),Object(j.jsx)(S.a.Control,{onChange:g,name:"email",type:"email",placeholder:"Example@anything.com",required:!0})]}),Object(j.jsxs)(S.a.Group,{controlId:"formBasicPassword",children:[Object(j.jsx)(S.a.Label,{children:" Password "}),Object(j.jsx)(S.a.Control,{onChange:g,name:"password",type:"password",placeholder:"Enter your Password",required:!0})]}),Object(j.jsxs)(S.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(j.jsx)(S.a.Label,{children:" Role "}),Object(j.jsxs)(S.a.Control,{onChange:g,name:"role",as:"select",children:[Object(j.jsx)("option",{value:"user",children:"  User"}),Object(j.jsx)("option",{value:"editor",children:" Editor "}),Object(j.jsx)("option",{value:"admin",children:" Admin "})]})]})]})}),Object(j.jsx)(Z.a.Footer,{children:Object(j.jsx)(w.a,{variant:"info",onClick:function(n){n.preventDefault(),e.onHide(),t.signup(r,l,h,m)},children:" Signup "})})]}))}function te(){var e=Object(c.useContext)(H),t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(O.a)(i,2),s=o[0],l=o[1];return Object(j.jsxs)(X.a,{className:"header-bar",bg:"primary",variant:"dark",expand:"true",children:[Object(j.jsx)(X.a.Brand,{href:"#",children:"Home"}),Object(j.jsxs)(Q.b,{condition:e.loggedIn,children:[Object(j.jsx)(Q.c,{children:Object(j.jsx)(X.a.Brand,{children:Object(j.jsx)(w.a,{variant:"danger",onClick:e.logout,children:" sign out "})})}),Object(j.jsx)(Q.a,{children:Object(j.jsxs)(X.a.Brand,{className:"d-flex justify-content-between",children:[Object(j.jsx)(w.a,{className:"mr-3",variant:"outline-light",onClick:function(){r(!0)},children:" signin "}),Object(j.jsx)(w.a,{className:"mr-3",variant:"outline-light",onClick:function(){l(!0)},children:" signup "})]})})]}),Object(j.jsx)($,{show:a,onHide:function(){r(!1)}}),Object(j.jsx)(ee,{show:s,onHide:function(){l(!1)}})]})}n(348);var ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(w.a,{variant:"secondary",size:"sm",className:"theme-btn",onClick:this.context.toggleMode,children:"Click me"})})}}]),n}(a.a.Component);function ce(e){var t=Object(c.useContext)(H),n=!(!t.loggedIn||!e.capability)&&t.user.capability.includes(e.capability);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Q.b,{condition:n,children:e.children}),Object(j.jsx)(Q.b,{condition:"guest"===e.capability&&!t.loggedIn,children:e.children})]})}ne.contextType=d;n(349);function ae(){var e=Object(c.useContext)(d);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(R,{children:[Object(j.jsx)("div",{className:e.mode,children:Object(j.jsx)(ne,{})}),Object(j.jsx)(te,{}),Object(j.jsxs)(f,{children:[Object(j.jsx)(ce,{capability:"read",children:Object(j.jsx)(J,{})}),Object(j.jsx)(ce,{capability:"guest",children:Object(j.jsx)(v.a,{style:{textAlign:"center",marginTop:"100px"},children:Object(j.jsx)("h1",{children:" To Do List Manager"})})})]})]})})}i.a.render(Object(j.jsx)(b,{children:Object(j.jsx)(ae,{})}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.b4d7f7e7.chunk.js.map